<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>Curiosity is bliss: HTTP 101</title>

<link rel="stylesheet" href="http://blog.monstuff.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.monstuff.com/index.rdf" />

<link rel="start" href="http://blog.monstuff.com/" title="Home" />
<link rel="prev" href="http://blog.monstuff.com/archives/000160.html" title="iFolder open-sourced!" />

<link rel="next" href="http://blog.monstuff.com/archives/000161.html" title="Tablet PC ideas" />



<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-74363-1";
urchinTracker();
</script>

<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blog.monstuff.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>



<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://blog.monstuff.com/archives/000149.html">
<dc:title>HTTP 101</dc:title>
<dc:description>...what one should know about HTTP... After explaining the basics of HTTP to a number of people around me, I decided I should write it up....</dc:description>
<dc:creator>Julien</dc:creator>
<dc:date>2004-03-26T16:54:53-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-sa/1.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-sa/1.0/">
<requires rdf:resource="http://web.resource.org/cc/Attribution" />
<requires rdf:resource="http://web.resource.org/cc/Notice" />
<requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
<permits rdf:resource="http://web.resource.org/cc/Reproduction" />
<permits rdf:resource="http://web.resource.org/cc/Distribution" />
<permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
</License>
</rdf:RDF>
-->



</head>

<body>

<div id="banner">
<h1><a href="http://blog.monstuff.com/" accesskey="1">Curiosity is bliss</a></h1>
<span class="description">Julien Couvreur's programming blog and more</span>
</div>

<div id="container">

<div class="blog">







<div id="menu">
<a href="http://blog.monstuff.com/archives/000160.html">« iFolder open-sourced!</a>&nbsp;&nbsp; 

| &nbsp;&nbsp;<a href="/archives.html">Archive list</a>&nbsp;&nbsp;
| &nbsp;&nbsp;<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a> (latest)

</div>

</div>

<div class="blog">

<!-- <h2 class="date">March 26, 2004</h2> -->




<div class="blogbody">
<!-- google_ad_section_start -->

<h2 class="title">HTTP 101</h2>

<p>...what one should know about HTTP...<br />
After explaining the basics of HTTP to a number of people around me, I decided I should write it up.</p>

<a name="more"></a>
<p><b>Introduction:</b><br />
HTTP means HyperText Transfer Protocol. A protocol is just a convention for computer dialogs. The same way that you don't start a conversation with somebody by saying "goodbye", or that you don't interrupt somebody speaking, computers need to follow certain "social" rules when communicating.</p>

<p>It assumes that the computers participating in the conversation have a way of sending messages to each other.<br />
This is implemented by other protocols that go into the details of how electronic signals should be sent on the wires. These implement an abstraction, called sockets, that looks pretty similar to a tube that transports letters.<br />
When two computers have set up a socket between them, they can start sending words to one another, it is just a matter of sending words in a way that they both can make sense out of them and don't stay silent when it's their turn to "speak".</p>

<p><br />
<b>Request & Response:</b><br />
HTTP uses a simple conversation pattern: the client connects to the server with a socket, initiates the dialog by asking the server for something, the server then tries provide the client an answer back. <br />
An analog of a simple HTTP request and response would be the client asking "give me the file A" and the server answering "I have it, here is the content of file A: (...content of file A...)".</p>

<p>But in reality the protocol uses its own simplified language which looks more like "GET /fileA" answered by "200 OK (...content of file A...)". Check the links at the   end of this article for the complete reference documents.<br />
We'll now go into more details of what this language looks like.</p>

<p><a href="/archives/images/HTTP1.jpg" target="_blank"><img src="/archives/images/HTTP1.jpg" width="300" height="200" /></a><br />
<a href="/archives/images/HTTP1.jpg" target="_blank">Click for larger view</a></p>

<p><br />
<b>Loading a web page:</b><br />
When a browser loads a web page, it does a GET request for the url requested. The content of the page is usually in a special text format called html, that allows to include links, images and other style effects. <br />
The browser analyses the html in order to display it to the user. But doing so it may find that it needs more content to render the page correctly, like images.</p>

<p>When that happens, the browser initiates one HTTP request for each image.<br />
When all the necessary information is downloaded, it is combined into the page the user sees on his screen.</p>

<p><a href="/archives/images/HTTP2.jpg" target="_blank"><img src="/archives/images/HTTP2.jpg" width="400" height="330" /></a><br />
<a href="/archives/images/HTTP2.jpg" target="_blank">Click for larger view</a></p>

<p><br />
<b>Experiment:</b><br />
Telnet is a program that lets you establish a socket connection to a server and manually type the characters you want to send. The command-line syntax varies a little bit, but the principle stays the same: you want to provide the name of the server and a port number. The standard port number for HTTP is 80.</p>

<p>Try the following:<br />
In a windows command prompt, type "<b>telnet google.com 80</b>" followed by return. <br />
A connection will get opened and you are now free to send characters to the google server. <br />
You can quit the telnet program at anytime, by hit <b>(control)&nbsp;]</b> then type "<b>quit</b>" followed by return.</p>

<p>Continue typing: "<b>GET / HTTP/1.0</b>", followed by return twice.<br />
Depending on the telnet program, the characters you type might appear in the console, or not (but you can type it blindly).</p>

<p>This is the simplest request you can send.<br />
The extra blank line signifies the end of the request and as soon as you type it, the google server will start replying something like:</p>

<div class="code">HTTP/1.1 200 OK<br/>
Content-length: 3266<br/>
Date: Fri, 26 Mar 2004 22:13:00 GMT<br/>
Content-Type: text/html<br/>
Cache-control: private<br/>
Set-Cookie: ID=09ac55c2fbb3def1; expires=Sun, 17-Jan-2038 19:14:07 GMT; path=/; domain=.google.com<br/>
Server: GWS/2.1<br/>
<br/>
&lt;html>(... google's html page ...)</div>

<p><br />
<b>Request & Response format:</b><br />
Both the request and response have three parts: the first line, which is either the request line or the status line, a number of introductory lines, called headers, and a content block, called the body. <br />
The request line says what resource the client is trying to access and the status line provides the status of the processing for the request.</p>

<p><u>Request format:</u><br />
<div class="code">GET /fileA HTTP/1.0&raquo;<br/><br />
(...headers...)&raquo;<br/><br />
&raquo;<br/><br />
(...body...)</div></p>

<p>In our simple experiment, we didn't have any headers in the request, we just had the GET line followed by a blank line.</p>

<p>The action in this case is a GET which is the most frequent one and is used for getting files. But other actions are available, like POST, used when the browser wants to send the content of a form back to the server. Both are very similar except for the fact that POSTs use the body of the request (to send the form data) whereas GETs don't have a body.</p>

<p>Note that line breaks are represented by a pair of special characters, a carriage return followed by a line feed.</p>

<p>The server can choose than handle requests like GETs by either returning static or dynamic content. For example, when you get a file, the web server just loads the (static) file from the hard drive and sends a copy back to you. But it is also possible that the content be built on the fly (dynamically), like Google's search result.</p>

<p>In most case where the result is generated, more parameters can be passed to the server using a special format called querystring. Instead of just asking for a given path like /fileA, you would ask for /serviceA?param1=value1&param2=value2. <br />
For example, if you perform a search on Google, you'll notice that the words you typed in will appear in the url of the results, as a parameter called "q".</p>

<p><u>Response format:</u><br />
<div class="code">HTTP 200 OK&raquo;<br/><br />
(...headers...)&raquo;<br/><br />
&raquo;<br/><br />
(body: content of file A)</div></p>

<p><br />
The request format makes it easy to tell when the request is over. In the case of a GET, when a blank line is received, the server can starts sending the response back. <br />
First it sends the status code (200 means the file was found) with a short description text, followed by some headers (to specify things like the size of the file or the last time it was updated) and terminated by an empty line. Then it sends the content of the file. </p>

<p>The client knows he has received the whole file either by checking the length of what he has received against what was announced, or if the length wasn't specified, by waiting for the server to close the connection.</p>

<p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">More status codes</a> are available, like 404 (File not found), 302 (Resource has moved) or 500 (Internal server error).</p>

<p><br />
<b>POST action:</b><br />
When you fill a form in a web page and click the submit button, the browser generally do a POST request back to the server. Let's consider a registration form that prompts you for a user name and password, then the request might look like:</p>

<div class="code">POST /FormSubmissionURL HTTP/1.0&raquo;<br/>
Content-Length=30&raquo;<br/>
&raquo;<br/>
username=dumky&password=secret</div>

<p>When the server receives a POST for the form submission url, he'll look at the body of the request (username=dumky&password=secret) which uses a standard format, and extract the username (dumky) and the password (secret).<br />
Then he'll check whether the username is already taken. If so, an error page is returned. Otherwise, the new username and password are stored in the server's records and the registration succeeded.</p>

<p><br />
<b>Headers:</b><br />
Headers allow for extra data to be passed with the request and the response. Each line looks like <i>Header-Name: header;data</i>.</p>

<p>One of the most frequent headers that can be found in an HTTP response is the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17">Content-Type</a>.  It tells what kind of content is being returned. Each media type has a special name (mime-type): a text file would use <i>text/plain</i>, an html file <i>text/html</i> and a jpeg image <i>image/jpeg</i>.</p>

<p>Another one is the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13">Content-Length</a>. It tells the client the size of the content being returned.</p>

<p>For 302 and other 3xx redirection status codes, the response should also contain a <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.30">Location</a> field that points the browser to the new location for the resource.</p>

<p>The request can also contain headers. For example, the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1">Accept</a> header field allows the client to restrict what media types the server should send back.</p>

<p>The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36">Referer </a> field indicates the url where this link was found. For example, if you are on a google page and click on a search result at yahoo.com, your browser will tell the yahoo.com server that it came via that google page.</p>

<p>Some header fields are a bit more rich, like Set-Cookie and Cookie (described in <a href="http://www.ietf.org/rfc/rfc2109.txt">HTTP State Management Mechanism</a>), as they work as a team. <br />
Whenever a response contains a Set-Cookie directive, with a certain cookie value, the browser is supposed to send that value back to the server in subsequent requests, using the Cookie field. <br />
This is a way for the server to avoid remembering some things, but asking the browser to remember them instead.</p>

<p>Other headers are available to make HTTP more efficient, like cache directives. Also there is a way to chain multiple requests and responses re-using the same connection (Keep-Alive field in HTTP/1.1), because opening new connections takes time.</p>

<p><br />
<b>Conclusion:</b><br />
HTTP is rather simple once you understand the fundamentals. It's just a question of learning new actions and headers.<br />
It is a rich and extensible standard, defined across many reference documents, so it feels like you can always find some new hidden features.<br />
But it is most definitely a worthwhile topic to learn, even if you don't work in web development, as HTTP really is universal.</p>

<p>Let me know if some parts of this article need some further clarifications.</p>

<p><br />
<b>Links:</b><br />
The specifications of <a href="http://www.ietf.org/rfc/rfc1945.txt">HTTP version 1.0</a> and <a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP version 1.1</a>.</p>

<span class="posted">Posted by Julien on March 26, 2004. <a href="http://blog.monstuff.com/archives/000149.html" rel="bookmark">Permalink</a> <!-- -->
<br /></span>

</div>



<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'curiosityisbliss'; 
        var disqus_identifier = '149';
        var disqus_url = 'http://blog.monstuff.com/archives/000149.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>    





<div class="comments-body">
<p>This is very good, I do not see any errors on a first pass. There have been other writeups and books about the subect of course, but this is an accessible description of the protocal. There are a couple folks in my office who I should share this with. Hopefully this document will be available to the internet for years to come. Cheers!</p>
<span class="comments-post">Posted by: <a href="http://www.db79.com/">Shawn Medero</a> at March 30, 2004 10:19 AM</span>
</div>
<div class="comments-body">
<p>Good</p>
<span class="comments-post">Posted by: <a href="mailto&#58;rajesha_k&#64;rediffmail&#46;com">rajesh</a> at April 13, 2004 09:02 PM</span>
</div>
<div class="comments-body">
<p>Well drafted in simple language for a novice!<br />
</p>
<span class="comments-post">Posted by: <a href="mailto&#58;reachvijayc&#64;yahoo&#46;co&#46;in">Vijay</a> at August 22, 2004 12:38 AM</span>
</div>
<div class="comments-body">
<p>Very good, thanks</p>
<span class="comments-post">Posted by: <a href="mailto&#58;donal&#46;ward&#64;nuigalway&#46;ie">Donal Ward</a> at February 17, 2005 04:37 AM</span>
</div>
<div class="comments-body">
<p>Good and clear simple explanation even for me, whose doing web sites since 8 years (but at a content level with users) and wasn't really sure of the underlying things.</p>
<span class="comments-post">Posted by: <a href="mailto&#58;nomail&#64;switzerland&#46;ch">Mario</a> at October 13, 2005 12:26 AM</span>
</div>



<div class="comments-head"><a name="trackbacks"></a>Trackbacks</div>

<div class="trackback-body">
<a name="20"></a>
<span class="trackback-post"><a href="http://sbserve/DotText/simon/archive/2004/04/19/1233.aspx" target="new">HTTP 101</a><br />
<b>Excerpt:</b> <br />
<b>Weblog:</b> simon's ramblings<br />
<b>Tracked:</b> April 18, 2004 03:00 PM</span>
</div>


<!-- google_ad_section_end -->

<div class="comments-body">
<!--
Comments are closed. You can <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#106;&#117;&#108;&#105;&#101;&#110;&#46;&#99;&#111;&#117;&#118;&#114;&#101;&#117;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">contact me by email</a>. 
-->
</div>


</div>
</div>

<!-- google_ad_section_start(weight=ignore) -->
<div id="links">

<div class="sidetitle">
Recent Entries
</div>

<div class="side">
<a href="/archives.html">All entries (270)</a><br />
<br />

<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a><br />
<a href="http://blog.monstuff.com/archives/000377.html">Hans Rosling on the facts about population</a><br />
<a href="http://blog.monstuff.com/archives/000376.html">Bill Nye and Ken Ham debating on creationism</a><br />
<a href="http://blog.monstuff.com/archives/000375.html">Prediction vs Explanation</a><br />
<a href="http://blog.monstuff.com/archives/000374.html">Protectionism == Luddism</a><br />
<a href="http://blog.monstuff.com/archives/000373.html">Moderated off Boing Boing</a><br />
<a href="http://blog.monstuff.com/archives/000372.html">I &#9829; Patent Trolls</a><br />
<a href="http://blog.monstuff.com/archives/000371.html">Head Mounted Displays</a><br />
<a href="http://blog.monstuff.com/archives/000370.html">Better async programming in .Net</a><br />
<a href="http://blog.monstuff.com/archives/000369.html">Action, preferences, value</a><br />
<a href="http://blog.monstuff.com/archives/000368.html">Fresh breeze on climate debate</a><br />
<a href="http://blog.monstuff.com/archives/000367.html">On-the-fly book scanning</a><br />
<a href="http://blog.monstuff.com/archives/000366.html">State and education</a><br />
<a href="http://blog.monstuff.com/archives/000365.html">Live Geometry screencast</a><br />
<a href="http://blog.monstuff.com/archives/000364.html">Wired Science TV show</a><br />
<a href="http://blog.monstuff.com/archives/000362.html">Expectations and accountability in Economics</a><br />
<a href="http://blog.monstuff.com/archives/000361.html">Science of human action</a><br />
<a href="http://blog.monstuff.com/archives/000359.html">Reactive programming in javascript and C#</a><br />
<a href="http://blog.monstuff.com/archives/000358.html">Google Wave</a><br />
<a href="http://blog.monstuff.com/archives/000357.html">Reading facial expressions</a><br />

</div>
<!-- google_ad_section_end -->

</body>
</html>
