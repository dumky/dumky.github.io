<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>Curiosity is bliss: Various Greasemonkey user scripts</title>

<link rel="stylesheet" href="http://blog.monstuff.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.monstuff.com/index.rdf" />

<link rel="start" href="http://blog.monstuff.com/" title="Home" />
<link rel="prev" href="http://blog.monstuff.com/archives/000238.html" title="Handle mailto: links with Gmail" />

<link rel="next" href="http://blog.monstuff.com/archives/000240.html" title="&quot;MSDN Language Filter&quot; user script" />



<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-74363-1";
urchinTracker();
</script>

<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blog.monstuff.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>



<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://blog.monstuff.com/archives/000239.html">
<dc:title>Various Greasemonkey user scripts</dc:title>
<dc:description>Wrote a couple more more Greasemonkey user scripts last week: Allow Password Remembering removes the autocomplete=&quot;off&quot; attributes that dictate the browser to never remember the tagged fields (usually for security or privacy reasons). Auto Reload reloads the configured urls every minute. It&apos;s useful for staying logged into some sites that have their sessions expire after a certain time (again, usually for security reasons). It&apos;s a bit different than the ability of the tabbrowser extension to reload tabs, as this script can cause frames to reload (not the whole document). I&apos;ll probably look into a way to configure this one to...</dc:description>
<dc:creator>Julien</dc:creator>
<dc:date>2005-04-10T10:10:54-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-sa/1.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-sa/1.0/">
<requires rdf:resource="http://web.resource.org/cc/Attribution" />
<requires rdf:resource="http://web.resource.org/cc/Notice" />
<requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
<permits rdf:resource="http://web.resource.org/cc/Reproduction" />
<permits rdf:resource="http://web.resource.org/cc/Distribution" />
<permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
</License>
</rdf:RDF>
-->



</head>

<body>

<div id="banner">
<h1><a href="http://blog.monstuff.com/" accesskey="1">Curiosity is bliss</a></h1>
<span class="description">Julien Couvreur's programming blog and more</span>
</div>

<div id="container">

<div class="blog">







<div id="menu">
<a href="http://blog.monstuff.com/archives/000238.html">« Handle mailto: links with Gmail</a>&nbsp;&nbsp; 

| &nbsp;&nbsp;<a href="/archives.html">Archive list</a>&nbsp;&nbsp;
| &nbsp;&nbsp;<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a> (latest)

</div>

</div>

<div class="blog">

<!-- <h2 class="date">April 10, 2005</h2> -->




<div class="blogbody">
<!-- google_ad_section_start -->

<h2 class="title">Various Greasemonkey user scripts</h2>

<p>Wrote a couple more more Greasemonkey user scripts last week:<br />
<ul><li><a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/AllowPasswordRemembering.user.js">Allow Password Remembering</a> removes the autocomplete="off" attributes that dictate the browser to never remember the tagged fields (usually for security or privacy reasons). </li><li><a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/AutoReload.user.js">Auto Reload</a> reloads the configured urls every minute. It's useful for staying logged into some sites that have their sessions expire after a certain time (again, usually for security reasons). It's a bit different than the ability of the tabbrowser extension to reload tabs, as this script can cause frames to reload (not the whole document). I'll probably look into a way to configure this one to choose how often the url should be refreshed. </li><li><a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/OReillyNet-PrinterFriendlyRedirect.user.js">O'Reilly Network Printer Friendly Redirect</a> redirects to the printer friendly version of the O'Reilly Network pages, when they are loaded. </li><li><a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/Business2.0PrinterFriendly.user.js">Business 2.0 Printer Friendly Links and Redirect</a> re-writes article links directly to their printer-friendly version, rather than the article summary page. If you happen to land on one of these interstital pages, it'll also redirect you to the printer-friendly version. This user script is mostly useful if you have access to the Business 2.0 online articles, which requires an issue access code (found in the printed magazine) or a subscription code (printed on the address label of the magazine for those who subscribe). </li></ul></p>

<p><u>Update (2005/04/12):</u> Added <a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/HowStuffWorksPrinterFriendly.user.js">How Stuff Works - Printer Friendly</a>, which redirects and re-write links to the printer-friendly version of "How Stuff Works" pages. It also prevents the links from opening in a new window.</p>

<p><u>Update (2005/04/18):</u> Thanks to Logan for the various improvements and suggestions. I updated <a title="right click &#8594; Install User Script..." href="http://blog.monstuff.com/archives/images/IGNButler.user.js">IGN Butler</a> to be cleaner and also skip ads on a number of other sites (see comments below). It seems that IGN, GameSpy, RottenTomatoes, PlanetDoom, PlanetHalfLife,... are all part of the same network. I never noticed that RottenTomates has links and ads from IGN.</p>

<a name="more"></a>


<span class="posted">Posted by Julien on April 10, 2005. <a href="http://blog.monstuff.com/archives/000239.html" rel="bookmark">Permalink</a> <!-- -->
<br /></span>

</div>



<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'curiosityisbliss'; 
        var disqus_identifier = '239';
        var disqus_url = 'http://blog.monstuff.com/archives/000239.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>    





<div class="comments-body">
<p>Hi Julien, I like your two scripts, love the idea of rewriting links directly to the print-friendly pages. Strangely, even if you re-direct as opposed to rewrite, the "back" button in firefox refuses to recognize that you've visited the non-friendly page.</p>

<p>Besides, with a broadband connection, the redirect is neglegible.</p>

<p>For more ideas, check out my link below:</p>

<p><a href="http://wiki.samuelooi.com/wikka.php?wakka=FriendofPrintFriendly">http://wiki.samuelooi.com/wikka.php?wakka=FriendofPrintFriendly</a></p>

<p>It's a bit like yours, but more flexible, since it covers loads of sites.</p>

<p>Can I add your two scripts to mine at some later stage?</p>

<p>Regards</p>
<span class="comments-post">Posted by: <a href="http://wiki.samuelooi.com/wikka.php?wakka=FriendofPrintFriendly">Samuel Ooi</a> at April 13, 2005 03:23 PM</span>
</div>
<div class="comments-body">
<p>Sure, feel free to include my scripts.<br />
I noticed that Firefox "swallows" the page that causes the redirect. I kind of like it actually, otherwise pressing the back button would be a pain (you'd need to click twice...).</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com/">Julien Couvreur</a> at April 13, 2005 04:13 PM</span>
</div>
<div class="comments-body">
<p>The IGNButler script works great. This could be easily modified to include gamespy.com and planet*.com (planetdoom, halflife, etc), they use the exact same stuff. Also, I'm not sure why the location is checked before skipInterstial() is run, it seems greasemonkey doesn't run the script unless it matches on the @include lines at the top, maybe that changed with recent versions?</p>

<p>Here's a patch:<br />
<a href="http://www.gozer.org/test/IGNButler.user.js.diff">http://www.gozer.org/test/IGNButler.user.js.diff</a></p>
<span class="comments-post">Posted by: <a href="http://www.gozer.org/">logan</a> at April 14, 2005 10:08 PM</span>
</div>
<div class="comments-body">
<p>Thanks Logan. I updated IGNButler with your patch.</p>

<p>The script does have some un-necessary stuff, as it was one of my first scripts and I followed the pattern from another script that had that problem ;-)</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com/">Julien Couvreur</a> at April 15, 2005 04:25 PM</span>
</div>
<div class="comments-body">
<p>Hello again. :)</p>

<p>When browsing the script requests, I came across one written for rottentomatoes.com, which also uses the fromint=1 thinger, but this one is just a two-liner, figured you'd be interested...</p>

<p><a href="http://diveintomark.org/projects/greasemonkey/rottenskip.user.js">http://diveintomark.org/projects/greasemonkey/rottenskip.user.js</a></p>

<p>All you'd have to do is update the @include list and you've got something that'll work on ign.com, gamespy.com, planet*.com, etc..</p>

<p>It seems like this type of fullpage ad is pretty common, at least I don't think rottentomatoes.com has any relation to ign or gamespy.</p>
<span class="comments-post">Posted by: <a href="http://www.gozer.org/">logan</a> at April 15, 2005 06:34 PM</span>
</div>
<div class="comments-body">
<p>Thanks again for the tips logan. Mark's script is much simpler (mine also had an un-used function that I had not cleaned up...).<br />
I updated the script to include IGN, GameSpy, RottenTomatoes and the various Planet* sites. </p>

<p>Found more info at <a href="http://corp.ign.com/corporate.html">http://corp.ign.com/corporate.html</a> and a complete list at <a href="http://corp.ign.com/properties.html">http://corp.ign.com/properties.html</a></p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com/">Julien Couvreur</a> at April 18, 2005 10:55 AM</span>
</div>
<div class="comments-body">
<p>Auto Reload is great, but needs a timer.</p>
<span class="comments-post">Posted by: <a href="http://www.hunox.ca">Ottawa</a> at May 11, 2005 03:43 PM</span>
</div>
<div class="comments-body">
<p>Hello Julien,<br />
Thanks for the scripts. I am trying to write a userscript for www.Devshed.com so that all the articles are redirected to their printable version as you have done for O'Reilly Network pages. But i am not able to find the URL pattern and moreover the  printer friendly page opens in a new window. It would be really nice if you could guide me in this.</p>
<span class="comments-post">Posted by: <a href="http://www.sudarmuthu.blogspot.com">Sudar</a> at June  7, 2005 11:20 PM</span>
</div>
<div class="comments-body">
<p>Hey Sudar,</p>

<p>Sorry for super late response.<br />
Look for a A tag that contains the word "print", then dissect the href attribute to remove the crap ("javascript: void window.open(").</p>

<p>var xpath = "//a/font[contains(text(), 'PRINT')]";<br />
var res = document.evaluate(xpath, document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);</p>

<p>"res.snapshotLength" should be 1. <br />
"res.snapshotItem(0).parentNode.href" will have the value you care for.<br />
Apply a regex to it to extract the print-friendly url.</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com">Julien</a> at September  9, 2005 01:38 PM</span>
</div>
<div class="comments-body">
<p>This is Rolls-Royce of Cricket website. But I have found it unusable due to some programming problem of the site, or something on userend. I have never been able to stop auto reload of the page of the main web page. I do not have an iota of idea what is causing. Is it the Perl script, or something else? You -- the expert-- can help several million users who want to eliminate annoying reload of the main web page. Thanks a lot in advance.</p>
<span class="comments-post">Posted by: <a href="http://www.cricinfo.com/">Go</a> at January 29, 2006 04:02 AM</span>
</div>



<div class="comments-head"><a name="trackbacks"></a>Trackbacks</div>



<!-- google_ad_section_end -->

<div class="comments-body">
<!--
Comments are closed. You can <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#106;&#117;&#108;&#105;&#101;&#110;&#46;&#99;&#111;&#117;&#118;&#114;&#101;&#117;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">contact me by email</a>. 
-->
</div>


</div>
</div>

<!-- google_ad_section_start(weight=ignore) -->
<div id="links">

<div class="sidetitle">
Recent Entries
</div>

<div class="side">
<a href="/archives.html">All entries (270)</a><br />
<br />

<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a><br />
<a href="http://blog.monstuff.com/archives/000377.html">Hans Rosling on the facts about population</a><br />
<a href="http://blog.monstuff.com/archives/000376.html">Bill Nye and Ken Ham debating on creationism</a><br />
<a href="http://blog.monstuff.com/archives/000375.html">Prediction vs Explanation</a><br />
<a href="http://blog.monstuff.com/archives/000374.html">Protectionism == Luddism</a><br />
<a href="http://blog.monstuff.com/archives/000373.html">Moderated off Boing Boing</a><br />
<a href="http://blog.monstuff.com/archives/000372.html">I &#9829; Patent Trolls</a><br />
<a href="http://blog.monstuff.com/archives/000371.html">Head Mounted Displays</a><br />
<a href="http://blog.monstuff.com/archives/000370.html">Better async programming in .Net</a><br />
<a href="http://blog.monstuff.com/archives/000369.html">Action, preferences, value</a><br />
<a href="http://blog.monstuff.com/archives/000368.html">Fresh breeze on climate debate</a><br />
<a href="http://blog.monstuff.com/archives/000367.html">On-the-fly book scanning</a><br />
<a href="http://blog.monstuff.com/archives/000366.html">State and education</a><br />
<a href="http://blog.monstuff.com/archives/000365.html">Live Geometry screencast</a><br />
<a href="http://blog.monstuff.com/archives/000364.html">Wired Science TV show</a><br />
<a href="http://blog.monstuff.com/archives/000362.html">Expectations and accountability in Economics</a><br />
<a href="http://blog.monstuff.com/archives/000361.html">Science of human action</a><br />
<a href="http://blog.monstuff.com/archives/000359.html">Reactive programming in javascript and C#</a><br />
<a href="http://blog.monstuff.com/archives/000358.html">Google Wave</a><br />
<a href="http://blog.monstuff.com/archives/000357.html">Reading facial expressions</a><br />

</div>
<!-- google_ad_section_end -->

</body>
</html>
