---
title: "FlashXMLHttpRequest: cross-domain requests"
date: 2006-06-04 19:04:54 +0800
disqus_identifier: 294
disqus_url: http://blog.monstuff.com/archives/000294.html
---
{% raw %}
<p>I've been working with <a href="http://www.soaeosconference.sys-con.com/read/178702.htm">Jason Levitt</a> (from Yahoo) recently to iron the wrinkles out of my <a href="http://blog.monstuff.com/archives/000280.html">Flash-based technique for making cross-domain requests</a>. The main focus was to extend the reach of the technique to a larger audience, by adding support for Flash 7, which is more widely deployed than Flash 8. </p>

<p>Try the new <a href="http://blog.monstuff.com/FlashXMLHttpRequest/demo/">FlashXMLHttpRequest demo</a>.</p>
<p> <br />
Brad Neuberg's awesome <a href="http://codinginparadise.org/weblog/2006_04_25_archive.html">work on DojoExternalInterface</a> gave us a major boost. It emulates the most recent javascript to flash communication API (ExternalInterface, in Flash 8) accross platforms including Flash 7. The library hides differences with browsers and flash versions as much as possible, and works around various performance limitations.</p>

<p>Thanks again to Jason for his interest, feedback and support. I'm pretty excited to see what cool stuff he'll cook using this and the <a href="http://blogs.zdnet.com/BTL/?p=2662">new web APIs from Yahoo</a>.<br />
 <br />
 <br />
If you only want to deploy this component, you can download the <a href="http://blog.monstuff.com/FlashXMLHttpRequest/FlashXMLHttpRequest.zip">"binary" package</a>.<br />
To modify the flash source files and re-build them, get the <a href="http://blog.monstuff.com/FlashXMLHttpRequest/FlashXMLHttpRequest.src.zip">"source" package</a>.</p>

<p> <br />
As you can see in the <i>demo/index.html</i> file, after including <i>dojo.js</i> and <i>FlashXMLHttpRequest.js</i>, you'll need to initialize dojo and the flash object by calling <i>InitFlash</i> with the name of a function. That function will be invoked once the flash object is loaded and ready to make requests.<br />
From there on, you can create FlashXMLHttpRequest instances and use the "open", "onload" and "send" methods almost as you would with a regular XMLHttpRequest object. You can also call "setRequestHeader", but only to set the content type request header.</p>

<p>More generally, FlashXMLHttpRequest still has some limitations, due to the native Flash capabilities. <br />
First, access to other domains is restricted by use of a crossdomain.xml file. <br />
Second, you can only make GET and POST requests. It will become possible to support other verbs, such as PUT, DELETE or HEAD, with the new APIs provided by Flash 8.5.</p>

<p><br />
Let me know if FlashXMLHttpRequest is useful to you and if you encounter any bugs. Here's a more convenient permalink to this post: <a href="http://blog.monstuff.com/FlashXMLHttpRequest">http://blog.monstuff.com/FlashXMLHttpRequest</a>.</p>

<p><u>Update (2007/01/29):</u> It seems that Yahoo has removed their crossdomain.xml file from <a href="http://api.search.yahoo.com/crossdomain.xml">http://api.search.yahoo.com/crossdomain.xml</a><br />
I'm not sure when this happened. The new domain is <a href="http://search.yahooapis.com/crossdomain.xml">http://search.yahooapis.com/crossdomain.xml</a>.</p>

______________________________________

<p>Julien, awesome work! You should submit this to the Dojo project. I'm glad that dojo.flash was useful for you, and I look forward to playing with your code some more.</p>

<p>Best,<br />
  Brad</p>

Posted by: <a href="http://codinginparadise.org">Brad Neuberg</a> (June  5, 2006 02:49 PM)

______________________________________

<p>Julien,</p>

<p>Have you tried if FlashXMLHttpRequest is capable of accessing the partial text as the request is still loading, or when the response is a HTTP keep-alive type? If it is, it might be useful for a chat script. </p>

<p>Roy</p>

Posted by: <a href="http://www.brilliantconcept.com">Roy</a> (July 11, 2006 12:57 AM)

______________________________________

<p>Hi Roy,</p>

<p>No I wasn't able to make the response available as it arrives. Again this is something that Flash 8.5 might improve on, I'd need to look some more, either thru the improved HTTP APIs or thru the socket APIs.</p>

Posted by: <a href="http://blog.monstuff.com/">Julien Couvreur</a> (July 11, 2006 03:40 PM)

______________________________________

<p>It's not working with UTF-8 characters (unicode), that's a bug probaly.</p>

Posted by: <a href="mailto&#58;ramonklown&#64;pop&#46;com&#46;br">Ramon</a> (August  5, 2006 10:52 AM)

______________________________________

<p>Actually I've been rethiking about it and I think the problem isn't with the utf-8 chars but with the comments within files xml style. ()</p>

<p>best,</p>

Posted by: <a href="mailto&#58;ramonklown&#64;pop&#46;com&#46;br">Ramon</a> (August  5, 2006 01:06 PM)

______________________________________

<p>Kyle dropped me a note about his project, which is similar to FlashXMLHttpRequest. That may be interesting to some readers since I don't maintain this project anymore.</p>

<p>"I've read about and seen your flash-based cross-domain ajax solution from a few years back. I was wondering if you had checked out flXHR (<a href="http://flxhr.flensed.com)?">http://flxhr.flensed.com)?</a>  It does something very similar, but it does so by implementing an identical API to the native XHR object, which makes it easy to drop flXHR into existing code without any changes. I even have plugins for jQuery and Dojo which make it even easier and more flexible to work with. " -- Kyle</p>

Posted by: <a href="http://blog.monstuff.com">Julien</a> (April 26, 2009 10:23 PM)

______________________________________

<p>Boris Reitman has been working on a similar project. In his own words:<br />
"I was inspired by your article and wrote this:<br />
<a href="http://code.google.com/p/crossxhr/">http://code.google.com/p/crossxhr/</a><br />
I'm also providing flash source for the object. I can't remember now why your solution didn't work for me and I had to write my own."</p>

Posted by: <a href="http://blog.monstuff.com">Julien</a> (May  3, 2009 10:21 AM)

______________________________________

<p>Escort Services  If we wish to free ourselves from enslavement, we must choose freedom and the responsibility this entails.   coolserg9981</p>

Posted by: <a href="http://www.hi5.com/friend/group/4303366--Escort+Services+2009--front-html">Mcbott</a> (August  5, 2009 04:53 AM)

______________________________________

<p>Sensual massage  I choose not to think of my life as surviving, but coping.   coolserg9981</p>

Posted by: <a href="http://www.hi5.com/friend/group/4317426--Sensual+massage+2009--front-html">Laface</a> (August  5, 2009 07:00 AM)



{% endraw %}