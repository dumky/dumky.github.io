<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>Curiosity is bliss: FlashXMLHttpRequest: cross-domain requests</title>

<link rel="stylesheet" href="http://blog.monstuff.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.monstuff.com/index.rdf" />

<link rel="start" href="http://blog.monstuff.com/" title="Home" />
<link rel="prev" href="http://blog.monstuff.com/archives/000292.html" title="Highway traffic map for cellphones" />

<link rel="next" href="http://blog.monstuff.com/archives/000295.html" title="How to expose click fraud?" />



<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-74363-1";
urchinTracker();
</script>

<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'blog.monstuff.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>



<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://blog.monstuff.com/archives/000294.html">
<dc:title>FlashXMLHttpRequest: cross-domain requests</dc:title>
<dc:description>I&apos;ve been working with Jason Levitt (from Yahoo) recently to iron the wrinkles out of my Flash-based technique for making cross-domain requests. The main focus was to extend the reach of the technique to a larger audience, by adding support for Flash 7, which is more widely deployed than Flash 8. Try the new FlashXMLHttpRequest demo....</dc:description>
<dc:creator>Julien</dc:creator>
<dc:date>2006-06-04T19:04:54-08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-sa/1.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-sa/1.0/">
<requires rdf:resource="http://web.resource.org/cc/Attribution" />
<requires rdf:resource="http://web.resource.org/cc/Notice" />
<requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
<permits rdf:resource="http://web.resource.org/cc/Reproduction" />
<permits rdf:resource="http://web.resource.org/cc/Distribution" />
<permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
</License>
</rdf:RDF>
-->



</head>

<body>

<div id="banner">
<h1><a href="http://blog.monstuff.com/" accesskey="1">Curiosity is bliss</a></h1>
<span class="description">Julien Couvreur's programming blog and more</span>
</div>

<div id="container">

<div class="blog">







<div id="menu">
<a href="http://blog.monstuff.com/archives/000292.html">« Highway traffic map for cellphones</a>&nbsp;&nbsp; 

| &nbsp;&nbsp;<a href="/archives.html">Archive list</a>&nbsp;&nbsp;
| &nbsp;&nbsp;<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a> (latest)

</div>

</div>

<div class="blog">

<!-- <h2 class="date">June 04, 2006</h2> -->




<div class="blogbody">
<!-- google_ad_section_start -->

<h2 class="title">FlashXMLHttpRequest: cross-domain requests</h2>

<p>I've been working with <a href="http://www.soaeosconference.sys-con.com/read/178702.htm">Jason Levitt</a> (from Yahoo) recently to iron the wrinkles out of my <a href="http://blog.monstuff.com/archives/000280.html">Flash-based technique for making cross-domain requests</a>. The main focus was to extend the reach of the technique to a larger audience, by adding support for Flash 7, which is more widely deployed than Flash 8. </p>

<p>Try the new <a href="http://blog.monstuff.com/FlashXMLHttpRequest/demo/">FlashXMLHttpRequest demo</a>.</p>

<a name="more"></a>
<p> <br />
Brad Neuberg's awesome <a href="http://codinginparadise.org/weblog/2006_04_25_archive.html">work on DojoExternalInterface</a> gave us a major boost. It emulates the most recent javascript to flash communication API (ExternalInterface, in Flash 8) accross platforms including Flash 7. The library hides differences with browsers and flash versions as much as possible, and works around various performance limitations.</p>

<p>Thanks again to Jason for his interest, feedback and support. I'm pretty excited to see what cool stuff he'll cook using this and the <a href="http://blogs.zdnet.com/BTL/?p=2662">new web APIs from Yahoo</a>.<br />
 <br />
 <br />
If you only want to deploy this component, you can download the <a href="http://blog.monstuff.com/FlashXMLHttpRequest/FlashXMLHttpRequest.zip">"binary" package</a>.<br />
To modify the flash source files and re-build them, get the <a href="http://blog.monstuff.com/FlashXMLHttpRequest/FlashXMLHttpRequest.src.zip">"source" package</a>.</p>

<p> <br />
As you can see in the <i>demo/index.html</i> file, after including <i>dojo.js</i> and <i>FlashXMLHttpRequest.js</i>, you'll need to initialize dojo and the flash object by calling <i>InitFlash</i> with the name of a function. That function will be invoked once the flash object is loaded and ready to make requests.<br />
From there on, you can create FlashXMLHttpRequest instances and use the "open", "onload" and "send" methods almost as you would with a regular XMLHttpRequest object. You can also call "setRequestHeader", but only to set the content type request header.</p>

<p>More generally, FlashXMLHttpRequest still has some limitations, due to the native Flash capabilities. <br />
First, access to other domains is restricted by use of a crossdomain.xml file. <br />
Second, you can only make GET and POST requests. It will become possible to support other verbs, such as PUT, DELETE or HEAD, with the new APIs provided by Flash 8.5.</p>

<p><br />
Let me know if FlashXMLHttpRequest is useful to you and if you encounter any bugs. Here's a more convenient permalink to this post: <a href="http://blog.monstuff.com/FlashXMLHttpRequest">http://blog.monstuff.com/FlashXMLHttpRequest</a>.</p>

<p><u>Update (2007/01/29):</u> It seems that Yahoo has removed their crossdomain.xml file from <a href="http://api.search.yahoo.com/crossdomain.xml">http://api.search.yahoo.com/crossdomain.xml</a><br />
I'm not sure when this happened. The new domain is <a href="http://search.yahooapis.com/crossdomain.xml">http://search.yahooapis.com/crossdomain.xml</a>.</p>

<span class="posted">Posted by Julien on June 04, 2006. <a href="http://blog.monstuff.com/archives/000294.html" rel="bookmark">Permalink</a> <!-- -->
<br /></span>

</div>



<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'curiosityisbliss'; 
        var disqus_identifier = '294';
        var disqus_url = 'http://blog.monstuff.com/archives/000294.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>    





<div class="comments-body">
<p>Julien, awesome work! You should submit this to the Dojo project. I'm glad that dojo.flash was useful for you, and I look forward to playing with your code some more.</p>

<p>Best,<br />
  Brad</p>
<span class="comments-post">Posted by: <a href="http://codinginparadise.org">Brad Neuberg</a> at June  5, 2006 02:49 PM</span>
</div>
<div class="comments-body">
<p>Julien,</p>

<p>Have you tried if FlashXMLHttpRequest is capable of accessing the partial text as the request is still loading, or when the response is a HTTP keep-alive type? If it is, it might be useful for a chat script. </p>

<p>Roy</p>
<span class="comments-post">Posted by: <a href="http://www.brilliantconcept.com">Roy</a> at July 11, 2006 12:57 AM</span>
</div>
<div class="comments-body">
<p>Hi Roy,</p>

<p>No I wasn't able to make the response available as it arrives. Again this is something that Flash 8.5 might improve on, I'd need to look some more, either thru the improved HTTP APIs or thru the socket APIs.</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com/">Julien Couvreur</a> at July 11, 2006 03:40 PM</span>
</div>
<div class="comments-body">
<p>It's not working with UTF-8 characters (unicode), that's a bug probaly.</p>
<span class="comments-post">Posted by: <a href="mailto&#58;ramonklown&#64;pop&#46;com&#46;br">Ramon</a> at August  5, 2006 10:52 AM</span>
</div>
<div class="comments-body">
<p>Actually I've been rethiking about it and I think the problem isn't with the utf-8 chars but with the comments within files xml style. ()</p>

<p>best,</p>
<span class="comments-post">Posted by: <a href="mailto&#58;ramonklown&#64;pop&#46;com&#46;br">Ramon</a> at August  5, 2006 01:06 PM</span>
</div>
<div class="comments-body">
<p>Kyle dropped me a note about his project, which is similar to FlashXMLHttpRequest. That may be interesting to some readers since I don't maintain this project anymore.</p>

<p>"I've read about and seen your flash-based cross-domain ajax solution from a few years back. I was wondering if you had checked out flXHR (<a href="http://flxhr.flensed.com)?">http://flxhr.flensed.com)?</a>  It does something very similar, but it does so by implementing an identical API to the native XHR object, which makes it easy to drop flXHR into existing code without any changes. I even have plugins for jQuery and Dojo which make it even easier and more flexible to work with. " -- Kyle</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com">Julien</a> at April 26, 2009 10:23 PM</span>
</div>
<div class="comments-body">
<p>Boris Reitman has been working on a similar project. In his own words:<br />
"I was inspired by your article and wrote this:<br />
<a href="http://code.google.com/p/crossxhr/">http://code.google.com/p/crossxhr/</a><br />
I'm also providing flash source for the object. I can't remember now why your solution didn't work for me and I had to write my own."</p>
<span class="comments-post">Posted by: <a href="http://blog.monstuff.com">Julien</a> at May  3, 2009 10:21 AM</span>
</div>
<div class="comments-body">
<p>Escort Services  If we wish to free ourselves from enslavement, we must choose freedom and the responsibility this entails.   coolserg9981</p>
<span class="comments-post">Posted by: <a href="http://www.hi5.com/friend/group/4303366--Escort+Services+2009--front-html">Mcbott</a> at August  5, 2009 04:53 AM</span>
</div>
<div class="comments-body">
<p>Sensual massage  I choose not to think of my life as surviving, but coping.   coolserg9981</p>
<span class="comments-post">Posted by: <a href="http://www.hi5.com/friend/group/4317426--Sensual+massage+2009--front-html">Laface</a> at August  5, 2009 07:00 AM</span>
</div>



<div class="comments-head"><a name="trackbacks"></a>Trackbacks</div>



<!-- google_ad_section_end -->

<div class="comments-body">
<!--
Comments are closed. You can <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#106;&#117;&#108;&#105;&#101;&#110;&#46;&#99;&#111;&#117;&#118;&#114;&#101;&#117;&#114;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">contact me by email</a>. 
-->
</div>


</div>
</div>

<!-- google_ad_section_start(weight=ignore) -->
<div id="links">

<div class="sidetitle">
Recent Entries
</div>

<div class="side">
<a href="/archives.html">All entries (270)</a><br />
<br />

<a href="http://blog.monstuff.com/archives/000380.html">Thick displays</a><br />
<a href="http://blog.monstuff.com/archives/000377.html">Hans Rosling on the facts about population</a><br />
<a href="http://blog.monstuff.com/archives/000376.html">Bill Nye and Ken Ham debating on creationism</a><br />
<a href="http://blog.monstuff.com/archives/000375.html">Prediction vs Explanation</a><br />
<a href="http://blog.monstuff.com/archives/000374.html">Protectionism == Luddism</a><br />
<a href="http://blog.monstuff.com/archives/000373.html">Moderated off Boing Boing</a><br />
<a href="http://blog.monstuff.com/archives/000372.html">I &#9829; Patent Trolls</a><br />
<a href="http://blog.monstuff.com/archives/000371.html">Head Mounted Displays</a><br />
<a href="http://blog.monstuff.com/archives/000370.html">Better async programming in .Net</a><br />
<a href="http://blog.monstuff.com/archives/000369.html">Action, preferences, value</a><br />
<a href="http://blog.monstuff.com/archives/000368.html">Fresh breeze on climate debate</a><br />
<a href="http://blog.monstuff.com/archives/000367.html">On-the-fly book scanning</a><br />
<a href="http://blog.monstuff.com/archives/000366.html">State and education</a><br />
<a href="http://blog.monstuff.com/archives/000365.html">Live Geometry screencast</a><br />
<a href="http://blog.monstuff.com/archives/000364.html">Wired Science TV show</a><br />
<a href="http://blog.monstuff.com/archives/000362.html">Expectations and accountability in Economics</a><br />
<a href="http://blog.monstuff.com/archives/000361.html">Science of human action</a><br />
<a href="http://blog.monstuff.com/archives/000359.html">Reactive programming in javascript and C#</a><br />
<a href="http://blog.monstuff.com/archives/000358.html">Google Wave</a><br />
<a href="http://blog.monstuff.com/archives/000357.html">Reading facial expressions</a><br />

</div>
<!-- google_ad_section_end -->

</body>
</html>
