---
title: Remote Javascript Scripting
date: 2004-05-04 15:08:12 +0800
disqus_identifier: 129
disqus_url: http://blog.monstuff.com/archives/000129.html
---

<p>Remote scripting is a way to interact with the server, rather that have to refresh the complete page to fetch new data.</p>

<p>For example, <a href="http://www.ashleyit.com/rs/rslite/">RSLite</a> is a simple javascript object that allows to call the server with a certain string and get a response string back. The request is done using a image and the return value is passed using a cookie which is polled. </p>

<p><br />
<b>Remote javascript include:</b><br />
Useful javascript "libraries" usually come in a separate .js file, that can be included into the html using <i>&lt;script type="text/javascript" language="JavaScript" src="foo.js" /></i>. This is generally used to factorize the code out of the html or a bookmarklet.</p>

<p>The problem with bookmarklets is that IE 6 restricts bookmark urls to 500 characters. <br />
But if all your bookmarklet does is dynamically insert a &lt;script src="http://remoteserver.com/foo.js"> tag in the page, you can avoid this limitation by having most of the code in the remote .js file.</p>

<p>Here are some examples of use of this technique: <a href="http://www.xml.com/pub/a/2003/10/08/udell.html">Jon Udell's quote bookmarklet</a>, <a href="http://lists.evolt.org/archive/Week-of-Mon-20020812/120229.html">Simon Willison's page weight</a> (<a href="javascript:void((function(){var element=document.createElement('script');element.setAttribute('src','http://www.gazingus.org/js/pageWeight.js');document.body.appendChild(element)})())">page weight bookmarklet</a>) and some <a href="http://www.searchlores.org/nemo_SEO.htm#book">simple text processing bookmarklets</a>.</p>

<p><br />
<b>Remote scripting via script include:</b><br />
Remote script includes can be used as another way to interact with the server to achieve remote scripting.<br />
For example, the <a href="http://bodytag.org/dchat/">dChat online chat</a> and my <a href="/archives/000172.html">port of dChat to C#</a> will add new script tags dynamically to the DOM to call server-side functions (with a certain calling convention). The server returns javascript that ensures the DOM is cleaned after the call succeeds and can pass some additional return values in the form of client-side javascript calls.</p>

<p><br />
I've also seen this used in a weird way before: you can have the server output the response javascript slowly while keeping the connection open. <a href="http://www.mod-pubsub.org/">mod_pubsub</a> uses this trick to delivery updates to various types of clients (flash, javascript,...).</p>
<p><b>Related:</b><br />
RSLite's author, Brent Ashley, also wrote the <a href="http://www.ashleyit.com/rs/">JSRS (Javascript Remote Scripting)</a> library.</p>

<p><a href="http://bugzilla.mozilla.org/show_bug.cgi?id=18843">Mozilla bug 18843</a> (dynamically added script not executable).</p>

<p>An <a href="http://wp.netscape.com/assist/net_sites/pushpull.html">explanation</a> of server push via multipart mime-type content.<br />
A server push framework in Java, based on <a href="http://www.javaworld.com/javaworld/jw-03-2000/jw-03-pushlet-p2.html">javascript and maintaining the connection open to a servlet (pushlet)</a>.</p>

<p><a href="http://openthought.net/">OpenThought framework</a> (javascript and iframes).</p>

<p>A project using <a href="http://www.codeproject.com/aspnet/AlvaroRemoteScripting.asp">client-side JavaScript to remotely invoke methods in ASP.NET pages</a>.</p>

______________________________________



<p>I didn't actually write the page-weight bookmarklet. However, I did recently write a bookmarklet tutorial for SitePoint which describes the external-script include technique in additional detail: <a href="http://www.sitepoint.com/article/bookmarklets">http://www.sitepoint.com/article/bookmarklets</a></p>

Posted by: <a href="http://simon.incutio.com/">Simon Willison</a> at May  4, 2004 03:42 PM


<p>Hi,</p>

<p>Can't seem to access your RSLite thing - where's it gone?!</p>

<p>Thanks.<br />
Auf<br />
</p>

Posted by: <a href="http://www.yahoo.com">aufladen</a> at October  6, 2004 04:01 PM


<p>Auf,<br />
The link had changed. Instead of <a href="http://ashleyit.com/rs/rslite/">http://ashleyit.com/rs/rslite/</a> it's now <a href="http://www.ashleyit.com/rs/rslite/">http://www.ashleyit.com/rs/rslite/</a> <br />
I fixed the link in my post.</p>

<p>Don't forget Google is your friend ;-)</p>

Posted by: <a href="http://blog.monstuff.com">Julien</a> at October  6, 2004 07:26 PM



