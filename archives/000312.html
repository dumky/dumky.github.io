<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>Curiosity is bliss: Dojo Offline Toolkit</title>

<link rel="stylesheet" href="http://blog.monstuff.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.monstuff.com/index.rdf" />

<link rel="start" href="http://blog.monstuff.com/" title="Home" />

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', '{{ site.ga }}', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>

<div id="banner">
<h1><a href="http://blog.monstuff.com/" accesskey="1">Curiosity is bliss</a></h1>
<span class="description">Julien Couvreur's programming blog and more</span>
</div>

<div id="container">


<div class="blog">




<div class="blogbody">

<h2 class="title">Dojo Offline Toolkit</h2>

<p>Brad Neuberg released an exciting announcement: <a href="http://www.sitepen.com/blog/2007/01/02/the-dojo-offline-toolkit/">Dojo Offline Toolkit</a>, a toolkit for developing AJAX web applications with support for disconnected operations.<br />
He's planning to use a custom web proxy, installed locally, to transparently let the web application continue to run when disconnected. </p>

<p>In his words:<br />
<blockquote>"The web browser does not know the difference between whether you are on- or off-line, since the proxy serves up the UI either way. <br />
[...]<br />
We don’t need to adopt radically different or exotic programming models, such as loading Single Page Applications like TiddlyWiki from the filesystem, adopting Adobe’s Apollo framework, or downloading huge, entire web servers with specialized application logic that run locally, such as Zimbra’s offline solution.</p>

<p>Instead, Dojo Offline’s answer is to simply use a very small, standard web proxy that runs locally, [...] caching files that wish to be cached for later access without hitting the network."</blockquote></p>

<p><br />
For read-only cases, such as accessing your contacts list or following driving directions, HTTP caching can do the trick, with almost no application change. You could use the normal HTTP caching from the browser, but to get some more advanced caching solution (item pinning and programmatic cache cleaning, for example), a local proxy can help, although I would rather lean towards some browser extension instead.<br />
The bigger challenge is supporting creative activities such as writing an email, composing a blog post, editing a wiki or updating your calendar. For such scenarios, I haven't seen any model or solution that would avoid having to write a significant amount of custom client-side code, in one form or another, to handle the online/offline logic. </p>

<p><br />
For example, <a href="http://www.zimbra.com/blog/archives/2006/11/taking_zimbra_offline.html">Zimbra</a> is adding support for disconnected operations using a local proxy, but the proxy is highly specific, running servlets that understand Zimbra's business logic. Apparently, they almost didn't change the UI AJAX client code. <br />
Ignoring the "install" issue, I wonder whether local servlets are easier to develop than the equivalent javascript code.</p>

<p><br />
In contrast, <a href="http://blog.monstuff.com/archives/000272.html">TiwyWiki</a> ("Take It With You" Wiki) goes the javascript route (with a touch of Flash). It has the architecture of a <a href="http://trimpath.com/project/wiki/SinglePageApplications">Single Page Application</a> (although it doesn't strictly need to be in a single page): you need to make your application cacheable, get it cached (so that the browser loads it from the cache whether online or offline), have all the user data persisted on the client-side and modify the logic to be aware of connectivity (offline operations, synchronization after getting back online). </p>

<p>Some of the logic can be abstracted out in a smart data access layer, which reads and updates the local store and the server-side according to the connection state. Even so, the offline mode is not transparent to the rest of the code: error cases and synchronization scenarios require more application-specific code.</p>

<p><br />
In conclusion, even though I don't see this toolkit dramatically simplifying the coding of disconnected web applications, I do think it that it will supplement some limitations of the today's browser platforms and I do look forward to seeing more details emerge as the Dojo Offline Toolkit project develops. The announcement itself has already succeeded in bringing more attention to the concept of disconnected web apps, and will likely attract more brain power to this challenging problem.</p>

<a name="more"></a>
<p> <br />
<h4>Pointers:</h4> Here are some more products, experiments and thoughts around offline AJAX:<br />
<ul><li><a href="http://iscrybe.com/">Scrybe</a>, a cool personal organizer, calendar, and notebook with offline support. I don't have access to the beta, so I'm not sure how the offline mode works (installed proxy or javascript?). </li><li>Carsten Bormann presented his experiment and learning at ETech on what he calls the <a href="http://www.viele-koeche.org/panic.html">PANIC mode</a> (<u>P</u>ersistency for <u>A</u>JAX in <u>N</u>etworks with <u>I</u>ntermittent <u>C</u>onnections). </li><li>Also at ETech, Steve Yen (who developed NumSum, TrimQuery, TrimJunction and more) presented a talk on <a href="http://trimpath.com/blog/?p=52">Web apps with the web</a>. </li><li>The <a href="http://www.mozilla.org/roadmap/gecko-1.9-roadmap.html">Gecko 1.9 roadmap</a> (which I believes corresponds to <a href="http://wiki.mozilla.org/Firefox3">Firefox 3</a>) includes some improvements for offline support such as a "facility to pin sets of pages for offline use; a mechanism for detecting that the application is running offline; and events to signal that the user is going offline or returning to online operation". </li></ul></p>

<span class="posted">Posted by Julien on January 09, 2007. <a href="http://blog.monstuff.com/archives/000312.html" rel="bookmark">Permalink</a> 
<br /></span>

</div>



<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'curiosityisbliss'; 
        var disqus_identifier = '312';
        var disqus_url = 'http://blog.monstuff.com/archives/000312.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>    







</div>
</div>


</body>
</html>